CREATE SEQUENCE SEQ_MUSIC_NO;

CREATE TABLE TBL_MUSIC
(
    MUSIC_NO NUMBER NOT NULL,
    MUSIC_NAME VARCHAR2(70) NOT NULL,
    MUSIC_GENRE VARCHAR2(20),
    SINGER_NAME VARCHAR2(30) NOT NULL,
    THEME_CODE NUMBER
);

COMMENT ON COLUMN TBL_MUSIC.MUSIC_NO IS '노래 번호';
COMMENT ON COLUMN TBL_MUSIC.MUSIC_NAME IS '노래 제목';
COMMENT ON COLUMN TBL_MUSIC.MUSIC_GENRE IS '노래 장르';
COMMENT ON COLUMN TBL_MUSIC.SINGER_NAME IS '가수 이름';
COMMENT ON COLUMN TBL_MUSIC.THEME_CODE IS '주제 코드';

ALTER TABLE TBL_MUSIC ADD CONSTRAINT PK_MUSIC_NO PRIMARY KEY (MUSIC_NO);
ALTER TABLE TBL_MUSIC
ADD CONSTRAINT FK_THEME_CODE FOREIGN KEY ( THEME_CODE )
REFERENCES TBL_MUSIC_MOOD ( THEME_CODE );


INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'Drive', '락', '미연', 1);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'Super Shy', '댄스', 'NewJeans', 1);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '잘 지내자, 우리', '발라드', '최유리', 3);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '그게 뭐라고', '포크', '어쿠르브', 2);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'My dear', '발라드', '정키', '2');
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '가끔 미치도록 네가 안고 싶어질 때가 있어', '인디뮤직', '가을방학', 3);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '사랑 하나', '발라드', '김필', 2);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '조용히 완전히 영원히', '포크', '너드커넥션', 4);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '민들레', '인디뮤직', '우효', 4);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'Moon', '발라드', 'Haze Moon', 3);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '김철수 씨 이야기', '포크', '허회경', 3);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '빨래', '발라드', '이적', 4);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'Teddy Bear', '댄스', 'STAYC', 1);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '쓰담쓰담', '인디뮤직', '10CM', 2);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, '드라마', '발라드', '아이유', 4);
INSERT INTO TBL_MUSIC (MUSIC_NO, MUSIC_NAME, MUSIC_GENRE, SINGER_NAME, THEME_CODE)
VALUES(SEQ_MUSIC_NO.NEXTVAL, 'Spicy', '댄스', 'aespa', 1);

CREATE TABLE TBL_MUSIC_MOOD
(
  THEME_CODE NUMBER
, THEME_CATEGORY_NAME VARCHAR2(20)
);

ALTER TABLE TBL_MUSIC_MOOD ADD CONSTRAINT PK_THEME_CODE PRIMARY KEY (THEME_CODE);

INSERT INTO TBL_MUSIC_MOOD (THEME_CODE, THEME_CATEGORY_NAME)
VALUES (1, '신남');
INSERT INTO TBL_MUSIC_MOOD (THEME_CODE, THEME_CATEGORY_NAME)
VALUES (2, '사랑');
INSERT INTO TBL_MUSIC_MOOD (THEME_CODE, THEME_CATEGORY_NAME)
VALUES (3, '이별');
INSERT INTO TBL_MUSIC_MOOD (THEME_CODE, THEME_CATEGORY_NAME)
VALUES (4, '감성');


SELECT
       LAST_NUMBER
  FROM USER_SEQUENCES
 WHERE SEQUENCE_NAME = 'SEQ_MUSIC_NO';

commit;